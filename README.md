# 認証付き個人プロジェクト管理システム 要件定義書

作成日: 2026-02-23

---

## 1. 目的

本システムは、ユーザー認証機能を備えた個人向けプロジェクト管理アプリケーションである。
本作品はポートフォリオ用途を前提とし、以下を主目的とする。

-   JWT + httpOnly Cookie による認証設計の実装
-   フロントエンド / バックエンド責務分離の明確化
-   REST API設計の実装
-   将来的なチーム機能拡張を想定したデータ構造設計

---

## 2. システム概要

### 2.1 想定ユーザー

-   個人利用者
-   将来的にチーム機能へ拡張可能な構造を保持

### 2.2 動作環境

-   フロントエンド: React SPA
-   バックエンド: Node.js + Express
-   DB: SQLite
-   認証方式: JWT (httpOnly Cookie)

---

## 3. 機能要件

### 3.1 認証機能

#### 3.1.1 ユーザー登録

-   Email / Password による登録
-   パスワードはbcryptでハッシュ化
-   重複Emailの禁止

#### 3.1.2 ログイン

-   Email / Password認証
-   成功時にJWTを発行
-   httpOnly Cookieとして保存

#### 3.1.3 ログアウト

-   Cookie削除

#### 3.1.4 認証検証

-   認証ミドルウェアによるJWT検証
-   認証失敗時は401返却

---

### 3.2 プロジェクト管理機能

#### 3.2.1 プロジェクト作成

-   タイトル（必須）
-   説明（任意）
-   ステータス（Todo / Doing / Done）

#### 3.2.2 プロジェクト一覧取得

-   ログインユーザーのデータのみ取得

#### 3.2.3 プロジェクト更新

-   タイトル
-   説明
-   ステータス

#### 3.2.4 プロジェクト削除

---

## 4. 非機能要件

### 4.1 セキュリティ

-   パスワード平文保存禁止
-   JWT署名検証必須
-   httpOnly Cookie利用
-   CORS設定適切化

### 4.2 保守性

-   Controller / Service / Route分離
-   フロントエンドのProvider設計
-   API層分離

### 4.3 拡張性

将来的に以下を追加可能な設計とする：
-   チーム機能
-   ロール管理
-   プロジェクト共有
-   PostgreSQL移行

---

## 5. データ設計

### 5.1 users テーブル

-   id (PK)
-   email (unique)
-   password_hash
-   created_at

### 5.2 projects テーブル

-   id (PK)
-   user_id (FK users\.id)
-   title
-   description
-   status
-   created_at
-   updated_at

※ 将来的に team_id を追加可能な設計とする。

---

## 6. API設計概要

### 認証系

-   POST /api/auth/register
-   POST /api/auth/login
-   POST /api/auth/logout

### プロジェクト系（認証必須）

-   GET /api/projects
-   POST /api/projects
-   PUT /api/projects/:id
-   DELETE /api/projects/:id

---

## 7. 画面構成

-   ログイン画面
-   新規登録画面
-   ダッシュボード画面
    -   プロジェクト一覧
    -   作成フォーム
    -   編集機能
    -   ステータスフィルタ

---

## 8. 今回の設計方針

-   まずは個人利用前提
-   将来チーム機能拡張余地を保持
-   認証をインフラ層として扱う
-   フロントはログイン状態のみ管理

---

## 9. 今回の成果目標

-   認証構成の理解
-   FE/BE境界設計の実践
-   セキュリティ意識の実装経験
-   ポートフォリオとして説明可能な設計ドキュメント作成
